<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:h="http://xmlns.jcp.org/jsf/html">

    <!-- INTERFACE -->
    <cc:interface>
        <cc:attribute name="product" type="edu.iit.sat.itmd4515.mbudhale.domain.Product" required="true"/>
        <cc:attribute name="action" method-signature="java.lang.String action()" required="false"/>
        <cc:attribute name="operation" type="java.lang.String" required="true"/>        
    </cc:interface>

    <!-- IMPLEMENTATION -->
    <cc:implementation>
        <h:head> 
            <h:outputStylesheet library="css" name="custom.css"/>
        </h:head>
        <h:form class="mt-4">
            <div class="container">
                <div class="row">
                    <div class="col-md-6" style="margin-top: 20px;">
                        
                        <div class="mb-3">
                            <h:panelGroup styleClass="form-floating">
                                <h:inputHidden id="productId" value="#{cc.attrs.product.id}"/>
                                <h:message for="productId"/>
                            </h:panelGroup>
                        </div>

                        <div class="mb-3">
                            <h:panelGroup styleClass="form-floating">
                                <h:outputLabel for="productName" value="Product Name:" rendered="#{cc.attrs.operation.equalsIgnoreCase('create')}" />
                                <h:inputText 
                                    id="productName" 
                                    value="#{cc.attrs.product.productName}" 
                                    readonly="#{cc.attrs.operation eq 'Read' or cc.attrs.operation eq 'Delete'}"
                                    styleClass="form-control custom-input"/>
                                <h:message for="productName" styleClass="error-message" />
                            </h:panelGroup>
                        </div>

                        <div class="mb-3">
                            <h:panelGroup styleClass="form-floating">
                                <h:outputLabel for="productUnit" value="Product Unit:" rendered="#{cc.attrs.operation.equalsIgnoreCase('create')}"/>
                                <h:inputText 
                                    id="productUnit" 
                                    value="#{cc.attrs.product.productUnit}" 
                                    readonly="#{cc.attrs.operation eq 'Read' or cc.attrs.operation eq 'Delete'}"
                                    styleClass="form-control"/>
                                <h:message for="productUnit" styleClass="error-message" />
                            </h:panelGroup>
                        </div>

                        <div class="mb-3">
                            <h:panelGroup styleClass="form-floating">
                                <h:outputLabel for="cost" value="Product Cost:" rendered="#{cc.attrs.operation.equalsIgnoreCase('create')}" />
                                <h:inputText 
                                    id="cost" 
                                    value="#{cc.attrs.product.cost}" 
                                    readonly="#{cc.attrs.operation eq 'Read' or cc.attrs.operation eq 'Delete'}"
                                    styleClass="form-control"/>
                                <h:message for="cost" styleClass="error-message" />
                            </h:panelGroup>
                        </div>

                        <div class="mb-3">
                            <h:panelGroup styleClass="form-floating">
                                <h:outputLabel for="price" value="Product Price:" rendered="#{cc.attrs.operation.equalsIgnoreCase('create')}"/>
                                <h:inputText 
                                    id="price" 
                                    value="#{cc.attrs.product.price}" 
                                    readonly="#{cc.attrs.operation eq 'Read' or cc.attrs.operation eq 'Delete'}"
                                    styleClass="form-control"/>
                                <h:message for="price" styleClass="error-message" />
                            </h:panelGroup>
                        </div>

                        <div class="mb-3">
                            <h:panelGroup styleClass="form-floating">
                                <h:outputLabel for="brand" value="Product Brand:" rendered="#{cc.attrs.operation.equalsIgnoreCase('create')}" />
                                <h:inputText 
                                    id="brand" 
                                    value="#{cc.attrs.product.productBrand}" 
                                    readonly="#{cc.attrs.operation eq 'Read' or cc.attrs.operation eq 'Delete'}"
                                    styleClass="form-control"/>
                                <h:message for="brand" styleClass="error-message" />
                            </h:panelGroup>
                        </div>

                        <div class="mb-3">
                            <h:panelGroup styleClass="form-floating">
                                <h:outputLabel for="category" value="Product Category:" rendered="#{cc.attrs.operation.equalsIgnoreCase('create')}"/>
                                <h:inputText 
                                    id="category" 
                                    value="#{cc.attrs.product.productCategory}" 
                                    readonly="#{cc.attrs.operation eq 'Read' or cc.attrs.operation eq 'Delete'}"
                                    styleClass="form-control"/>
                                <h:message for="category" styleClass="error-message" />
                            </h:panelGroup>
                        </div>

                        <div class="mb-3">
                            <h:commandButton 
                                rendered="#{cc.attrs.operation.equalsIgnoreCase('create')}" 
                                action="#{cc.attrs.action}" 
                                value="Add Product" 
                                styleClass="btn btn-primary btn-lg"/>
                            <h:commandButton 
                                rendered="#{cc.attrs.operation.equalsIgnoreCase('Delete')}" 
                                action="#{cc.attrs.action}" 
                                value="Delete Product" 
                                styleClass="btn btn-danger btn-lg"/>
                            <h:commandButton 
                                rendered="#{cc.attrs.operation.equalsIgnoreCase('Update')}" 
                                action="#{cc.attrs.action}" 
                                value="Update Product" 
                                styleClass="btn btn-warning btn-lg"/>
                        </div>

                    </div>
                </div>
            </div> 
        </h:form> 
    </cc:implementation>
</html>
